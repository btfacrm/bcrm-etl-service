<?xml version="1.0" encoding="UTF-8"?>

<mule 
	xmlns:vm="http://www.mulesoft.org/schema/mule/vm" 
	xmlns:http="http://www.mulesoft.org/schema/mule/http" 
	xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" 
	xmlns="http://www.mulesoft.org/schema/mule/core" 
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
		http://www.mulesoft.org/schema/mule/core 
		http://www.mulesoft.org/schema/mule/core/current/mule.xsd
		http://www.mulesoft.org/schema/mule/ee/core 
		http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd
		http://www.mulesoft.org/schema/mule/http
		http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/vm http://www.mulesoft.org/schema/mule/vm/current/mule-vm.xsd">

	<flow name="account">
		<http:listener config-ref="api-httpListenerConfig" path="/account" />
		<flow-ref  name="initialize"/>
		<flow-ref  name="view-account"/>
	</flow>
	
	<flow name="accountudf">
		<http:listener config-ref="api-httpListenerConfig" path="/accountudf" />
		<flow-ref  name="initialize"/>
		<flow-ref  name="view-accountudf"/>
	</flow>

	<flow name="address">
		<http:listener config-ref="api-httpListenerConfig" path="/address" />
		<flow-ref  name="initialize"/>
		<flow-ref  name="view-address"/>
	</flow>

	<flow name="agencyregion">
		<http:listener config-ref="api-httpListenerConfig" path="/agencyregion" />
		<flow-ref  name="initialize"/>
		<flow-ref  name="view-agencyregion"/>
	</flow>

	<flow name="balance">
		<http:listener config-ref="api-httpListenerConfig" path="/balance" />
		<flow-ref  name="initialize"/>
		<flow-ref  name="view-balance"/>
	</flow>

	<flow name="contact">
		<http:listener config-ref="api-httpListenerConfig" path="/contact" />
		<flow-ref  name="initialize"/>
		<flow-ref  name="view-contact"/>
	</flow>

	<flow name="contact-load">
		<http:listener config-ref="api-httpListenerConfig" path="/contact-load" />
		<vm:publish queueName="vm-contact" doc:name="Publish" config-ref="VM_Config" sendCorrelationId="ALWAYS"/>
	</flow>

	<flow name="disbursement">
		<http:listener config-ref="api-httpListenerConfig" path="/disbursement" />
		<flow-ref  name="initialize"/>
		<flow-ref  name="view-disbursement"/>
	</flow>

	<flow name="phone">
		<http:listener config-ref="api-httpListenerConfig" path="/phone" />
		<flow-ref  name="initialize"/>
		<flow-ref  name="view-phone"/>
	</flow>

	<flow name="watermark">
		<http:listener config-ref="api-httpListenerConfig" path="/watermark/{view}" />
		<flow-ref  name="watermark-mgmt"/>
	</flow>

	<flow name="watermark-update">
		<http:listener config-ref="api-httpListenerConfig" path="/watermark/" />
		<flow-ref  name="watermark-mgmt-post"/>
	</flow>

</mule>
