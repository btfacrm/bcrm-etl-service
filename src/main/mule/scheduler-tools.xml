<mule
    xmlns:os="http://www.mulesoft.org/schema/mule/os"
	xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" 
	xmlns="http://www.mulesoft.org/schema/mule/core" 
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
		http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd 
		http://www.mulesoft.org/schema/mule/core 	http://www.mulesoft.org/schema/mule/core/current/mule.xsd
		http://www.mulesoft.org/schema/mule/os 		http://www.mulesoft.org/schema/mule/os/current/mule-os.xsd">
	
    <sub-flow name="set-view-contact">
		<set-variable doc:name="set orchestrator" variableName="orchestrator" value="contact" />
		<flow-ref name="set-view-for-orchestrator" />
    </sub-flow>

    <sub-flow name="set-view-address">
		<set-variable doc:name="set orchestrator" variableName="orchestrator" value="address" />
		<flow-ref name="set-view-for-orchestrator" />
    </sub-flow>

    <sub-flow name="set-view-email">
		<set-variable doc:name="set orchestrator" variableName="orchestrator" value="email" />
		<flow-ref name="set-view-for-orchestrator" />
    </sub-flow>

    <sub-flow name="set-view-phone">
		<set-variable doc:name="set orchestrator" variableName="orchestrator" value="phone" />
		<flow-ref name="set-view-for-orchestrator" />
    </sub-flow>

    <sub-flow name="set-view-account">
		<set-variable doc:name="set orchestrator" variableName="orchestrator" value="account" />
		<flow-ref name="set-view-for-orchestrator" />
    </sub-flow>

    <sub-flow name="set-view-balance">
		<set-variable doc:name="set orchestrator" variableName="orchestrator" value="balance" />
		<flow-ref name="set-view-for-orchestrator" />
    </sub-flow>

    <sub-flow name="set-view-disbursement">
		<set-variable doc:name="set orchestrator" variableName="orchestrator" value="disbursement" />
		<flow-ref name="set-view-for-orchestrator" />
    </sub-flow>

    <sub-flow name="set-view-accountudf">
		<set-variable doc:name="set orchestrator" variableName="orchestrator" value="accountudf" />
		<flow-ref name="set-view-for-orchestrator" />
    </sub-flow>

    <sub-flow name="set-view-agencyregion">
		<set-variable doc:name="set orchestrator" variableName="orchestrator" value="agencyregion" />
		<flow-ref name="set-view-for-orchestrator" />
    </sub-flow>

	<sub-flow name="set-view-for-orchestrator" >
		<ee:transform doc:name="set view to process" >
    		<ee:message>
				<ee:set-attributes><![CDATA[%dw 2.0
				output application/json
				---
				{
					uriParams:{
						view: vars.orchestrator
					}
				}
				]]></ee:set-attributes>
    		</ee:message>
		</ee:transform>
    </sub-flow>

</mule>